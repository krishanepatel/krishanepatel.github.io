<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Krishane Patel</title>

    <!-- CSS -->
    <link rel="stylesheet" href="./css/style_v2.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Cormorant:ital,wght@0,300..700;1,300..700&family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=check_circle" />

    <!-- JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" defer></script>
    <script src="https://unpkg.com/isotope-layout@3/dist/isotope.pkgd.min.js" defer></script>
    <script src="anime-master/lib/anime.min.js" defer></script>
    <script defer src="./js/app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>


    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

    <!-- ScrollTrigger Plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>


    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="./Images/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./Images/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./Images/favicon_io/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="96x96" href="./Images/favicon_io/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="256x256" href="./Images/favicon_io/favicon-256x256.png">
    <link rel="manifest" href="./Images/favicon_io/site. ">
</head>

<body>
    <header class="header">
        <div class="logo">
            <a class="logo_text" href="index2.html">Krishane Patel</a>
        </div>
        <div class="hamburger">
            <span class="line"></span>
            <span class="line"></span>
            <span class="line"></span>
        </div>
        <nav class="nav-bar">
            <ul>
                <li><a class="nav-item active" href="index2.html">Home</a></li>
                <li><a class="nav-item" href="About.html">About</a></li>
                <li><a class="nav-item" href="portfolio.html">Portfolio</a></li>
                <!-- <li><a class="nav-item" href="Services.html">Services</a></li> -->
                <li><a class="nav-item" id="contact_link" href="index2.html#contact_container"
                        style="scroll-behavior: smooth;">Contact
                        Me</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <!-- Nav Bar -->

        <!-- Hero Section -->
        <section class="hero_section_wrapper">
            <div class="hero_section">
                <div class="hero_section_text">
                    <h1 class="title">Understand behaviour</h1><br>
                    <h2>Don't guess what people want.<br>Know them for who they are.
                    </h2>
                </div>
                <div class=" hero_section_image" id="hero-background">
                </div>
            </div>
        </section>
        <!-- Blog Space -->
        <section id="blog_landing">
            <div class="container">
                <div class="grid">
                    <div class="container">
                        <div class="blog_text" style="margin: auto 0; align-items: center;">
                            <h1 class="element_title">Get the
                                latest
                                insights in
                                behavioural science
                                right here.</h1>
                            <div class="portfolio_button"
                                style="display: flex; justify-content: center; align-items: center;">
                                <a href="portfolio.html" style="margin-top: 2rem">
                                    <div class="btn" style="text-transform: uppercase;">Read more</div>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="blog_mosaic">
                        <div class="blog_mosaic_item">
                            <div class="blog_mosaic_item_image">
                                <a href="work_blog_cognitivebiases.html">
                                    <img src="./Images/tingey-injury-law-firm-9SKhDFnw4c4-unsplash.jpg" alt="">
                                    <div class="blog_mosaic_item_text">
                                        <h1 class="subtitle">Cognitive Biases</h1>
                                        <p class="text">Flaws in Human Decision-Making</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <!-- <div class="blog_mosaic_item">
                            <div class="blog_mosaic_item_image">
                                <a href="work_casestudy_savingproducts.html">
                                    <img src="./Images/jr-korpa-cJljbGYLTAI-unsplash.jpg" alt="">
                                    <div class="blog_mosaic_item_text">
                                        <h1 class="subtitle">Understanding products: Part 1</h1>
                                        <p class="text">Tiered interest savings.</p>
                                    </div>
                                </a>
                            </div>
                        </div> -->
                        <div class="blog_mosaic_item">
                            <div class="blog_mosaic_item_image">
                                <a href="work_research_Covid19.html">
                                    <img src="./Images/hakan-nural-YCVUR2JgfHA-unsplash.jpg" alt="">
                                    <div class="blog_mosaic_item_text">
                                        <h1 class="subtitle">Risk and COVID-19</h1>
                                        <p class="text">Risk beliefs and social distancing</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </section>
        <!-- Contact Section -->
        <div class="landing_title">
            <h1>
                Contact Me
            </h1>
        </div>
        </div>
        <div class="contact_container" id="contact_container" style="scroll-margin-top: 7rem;">
            <div class="container">
                <div class="contact_section">
                    <div class="contact_form" id="contact_form">
                        <h1>Get in touch</h1>
                        <form id="formId" action="https://formsubmit.co/krishane.patel@gmail.com" method="POST">
                            <div class="form-group">
                                <div class="form-row">
                                    <div class="col">
                                        <input type="hidden" name="_captcha" value="false">
                                        <input type="text" name="_honey" style="display:none">
                                        <input type="hidden" name="_template" value="basic">
                                        <label class="contact_label" for="FirstName">First Name</label><br>
                                        <input type="text" id="FirstName" name="FirstName" class="form-control"
                                            data-required="true"><br>
                                        <label for="FirstName" class="contact_label">Last Name</label><br>
                                        <input type="text" name="LastName" class="form-control" data-required="true">
                                    </div>
                                    <div class="col">
                                        <label for="Email" class="contact_label">Email Address</label><br>
                                        <input type="email" name="email" id="Email" class="form-control"
                                            data-required="true">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="Message" class="contact_label">Message</label><br>
                                <textarea class="form-control" name="message" rows="4" id="message"
                                    data-required="true"></textarea>
                            </div>
                            <button id="formSubmit" class="btn btn-lg btn-dark btn-block" type="submit">
                                <p id="submitText" style="font-weight: 450; font-size: 1.125rem;">Submit</p>
                                <div id="spinner" class="spinner" style="display: none;"></div>
                            </button>
                            </button>
                        </form>
                    </div>
                    <div class="contact_image">
                        <img src="./Images/pawel-czerwinski--0xCCPIbl3M-unsplash.jpg" alt="">
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div class="footer-grid">
            <div class="footer_foot">
                <div class="footer_left">
                    <div class="footer_logo">
                        <div class="footer_section_text footer1">
                            <div class="logo">
                                <h1 class="logo_text">Krishane Patel</h1>
                            </div>
                        </div>
                    </div>
                </div>
                <ul>
                    <li><a href="Disclaimer.html">Disclaimer</a></li>
                    <li><a href=" PrivacyPolicy.html">Privacy Policy</a></li>
                    <li><a href="TermsofService.html">Terms & Conditions</a></li>
                </ul>
            </div>
        </div>
        <p class="footer_section_text">&copy 2024 Krishane Patel, London, United Kingdom. All Rights
            Reserved
        </p>
    </footer>
    <!-- Form Submission Script -->
    <script>
        document.getElementById('formId').addEventListener('submit', async function (event) {
            event.preventDefault();

            const form = event.target;
            const formData = new FormData(form);
            const submitButton = document.getElementById('formSubmit');
            const submitText = document.getElementById('submitText');
            const spinner = document.getElementById('spinner');

            spinner.style.display = 'inline-block';
            submitText.style.display = 'none';

            const startTime = Date.now();  // Capture start time for debugging

            try {
                const response = await fetch(form.action, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    }
                });

                const endTime = Date.now();  // Capture end time
                console.log(`Form submission took ${endTime - startTime}ms`);  // Log the time

                if (response.ok) {
                    submitButton.innerHTML = "Form submitted successfully!";
                    setTimeout(() => {
                        submitButton.innerHTML = `<p id="submitText">Submit</p><div id="spinner" class="spinner" style="display: none;"></div>`;
                        form.reset();
                    }, 1500);  // Reduced timeout to 1.5 seconds
                } else {
                    const data = await response.json();
                    throw new Error(data.error || 'Form submission failed');
                }
            } finally {
                spinner.style.display = 'none';
                submitText.style.display = 'inline-block';
            }
        });

    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const heroBackground = document.getElementById('hero-background');

            function setBackground() {
                const screenWidth = window.innerWidth;
                const mobileBreakpoint = 768;

                if (screenWidth < mobileBreakpoint) {
                    // Use image as background for mobile
                    heroBackground.style.backgroundImage = "url('./Images/pexels-danilo-ugaddan-945982.jpg')";
                } else {
                    // Use video as background for larger screens
                    heroBackground.innerHTML = `
                <video autoplay muted loop playsinline class="hero-video">
                  <source src="./Images/853889-hd_1920_1080_25fps.webm" type="video/webm">
                  Your browser does not support the video tag.
                </video>
              `;

                    // Style the video
                    const videoElement = document.querySelector('.hero-video');
                    videoElement.style.width = "100%";
                    videoElement.style.height = "100%";
                    videoElement.style.objectFit = "cover";
                    videoElement.style.position = "absolute";
                    videoElement.style.top = "0";
                    videoElement.style.left = "0";
                    videoElement.style.zIndex = "-1";
                }
            }

            // Run the function on initial load and when the window is resized
            window.addEventListener('resize', setBackground);
            setBackground(); // Call the function on DOM load
        });

        window.addEventListener('scroll', function () {
            const scrollPosition = window.scrollY; // Current scroll position
            const heroText = document.querySelector('.hero_section_text');
            const parentContainer = document.querySelector('.hero_section_wrapper');

            const containerHeight = parentContainer.offsetHeight; // Get height of the parent container
            const windowHeight = window.innerHeight; // Height of the viewport

            // Calculate how far the user has scrolled relative to the container
            const scrollPercentage = Math.min(scrollPosition / (containerHeight - windowHeight), 1);

            // Adjust the speed factor based on the scroll percentage
            const speed = 0.7 * scrollPercentage;

            // Apply the parallax effect
            heroText.style.transform = `translateY(${scrollPosition * speed}px) translateY(-50%)`;
        });

    </script>
    <!-- <script>
        document.addEventListener('DOMContentLoaded', function () {
            var swiper = new Swiper('.swiper-container', {
                loop: true,
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                slidesPerView: 1,
                spaceBetween: 20,
                breakpoints: {
                    640: {
                        slidesPerView: 1,
                        spaceBetween: 10,
                    },
                    768: {
                        slidesPerView: 2,
                        spaceBetween: 20,
                    },
                    1024: {
                        slidesPerView: 3,
                        spaceBetween: 30,
                    },
                }
            });
        });
    </script> -->
    <script>
        // Add the 'hidden' class to the body to hide content on load
        document.body.classList.add('hidden');

        // Wait for 0.25 seconds, then show the body
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.body.classList.remove('hidden');
                // Optionally, add animation or style if needed
            }, 250); // 250 milliseconds delay
        });
        document.addEventListener('DOMContentLoaded', function () {
            const heroBackground = document.getElementById('hero-background');

            function setBackground() {
                const screenWidth = window.innerWidth;
                const mobileBreakpoint = 768;

                if (screenWidth < mobileBreakpoint) {
                    heroBackground.style.backgroundImage = "url('./Images/pexels-danilo-ugaddan-945982.jpg')";
                } else {
                    heroBackground.innerHTML = `
                        <video autoplay muted loop playsinline class="hero-video">
                          <source src="./Images/853889-hd_1920_1080_25fps.webm" type="video/webm">
                          Your browser does not support the video tag.
                        </video>
                    `;
                    const videoElement = document.querySelector('.hero-video');
                    videoElement.style.width = "100%";
                    videoElement.style.height = "100%";
                    videoElement.style.objectFit = "cover";
                    videoElement.style.position = "absolute";
                    videoElement.style.top = "0";
                    videoElement.style.left = "0";
                    videoElement.style.zIndex = "-1";
                }
            }

            window.addEventListener('resize', setBackground);
            setBackground();

            // Register GSAP plugins
            gsap.registerPlugin(ScrollTrigger);

            // Hero Section Animations
            const heroText = document.querySelector('.hero_section_text');
            const parentContainer = document.querySelector('.hero_section_wrapper');

            // Slide-in effect for hero text and video on initial load
            gsap.from(heroText, {
                x: '-100%',
                opacity: 0,
                duration: 1.5,
                ease: 'power2.out',
                scrollTrigger: {
                    trigger: parentContainer,
                    start: 'top bottom',
                    end: 'top center',
                    toggleActions: 'play none none none',
                }
            });

            gsap.from('.hero-video', {
                x: '100%',
                opacity: 0,
                duration: 1.5,
                ease: 'power2.out',
                scrollTrigger: {
                    trigger: parentContainer,
                    start: 'top bottom',
                    end: 'top center',
                    toggleActions: 'play none none none',
                }
            });

            // Blog Text and Blog Mosaic Items Fade In/Out
            const blogText = document.querySelector('.blog_text h1.element_title');

            gsap.fromTo(blogText,
                { opacity: 0, y: 20 },
                {
                    opacity: 1,
                    y: 0,
                    duration: 1,
                    ease: 'power2.out',
                    scrollTrigger: {
                        trigger: blogText,
                        start: 'top 80%',
                        end: 'bottom 20%',
                        toggleActions: 'play reverse play reverse',
                        scrub: 2,
                    }
                }
            );

            const blogMosaicItems = document.querySelectorAll('.blog_mosaic_item');

            blogMosaicItems.forEach((item) => {
                gsap.fromTo(item,
                    { opacity: 0, y: 30 },
                    {
                        opacity: 1,
                        y: 0,
                        duration: 1,
                        ease: 'power2.out',
                        scrollTrigger: {
                            trigger: item,
                            start: 'top 85%',
                            end: 'bottom 15%',
                            toggleActions: 'play reverse play reverse',
                            scrub: 2,
                        }
                    }
                );
            });

            /* ==== Animate for Contact form with responsive viewport changes ==== */
            const contactForm = document.querySelector('.contact_form');
            const contactImage = document.querySelector('.contact_image');

            function applyContactAnimations() {
                ScrollTrigger.matchMedia({
                    "(min-width: 900px)": function () {
                        // Contact Form appears from the right
                        gsap.fromTo(contactForm,
                            { x: 100, opacity: 0 },
                            {
                                x: 0,
                                opacity: 1,
                                duration: 1,
                                ease: 'power2.out',
                                scrollTrigger: {
                                    trigger: contactForm,
                                    start: 'top 80%',
                                    toggleActions: 'play none none reverse',
                                }
                            }
                        );

                        // Contact Image appears from the left
                        gsap.fromTo(contactImage,
                            { x: -100, opacity: 0 },
                            {
                                x: 0,
                                opacity: 1,
                                duration: 1,
                                ease: 'power2.out',
                                scrollTrigger: {
                                    trigger: contactImage,
                                    start: 'top 80%',
                                    toggleActions: 'play none none reverse',
                                }
                            }
                        );
                    },

                    "(max-width: 899px)": function () {
                        // Contact Form appears from below
                        gsap.fromTo(contactForm,
                            { y: 100, opacity: 0 },
                            {
                                y: 0,
                                opacity: 1,
                                duration: 1,
                                ease: 'power2.out',
                                scrollTrigger: {
                                    trigger: contactForm,
                                    start: 'top 80%',
                                    toggleActions: 'play none none reverse',
                                }
                            }
                        );

                        // Contact Image appears from below as well
                        gsap.fromTo(contactImage,
                            { y: 100, opacity: 0 },
                            {
                                y: 0,
                                opacity: 1,
                                duration: 1,
                                ease: 'power2.out',
                                scrollTrigger: {
                                    trigger: contactImage,
                                    start: 'top 80%',
                                    toggleActions: 'play none none reverse',
                                }
                            }
                        );
                    }
                });
            }

            // Initialize animations on page load
            applyContactAnimations();

            // Reapply animations on resize
            window.addEventListener('resize', () => {
                ScrollTrigger.clearMatchMedia(); // Clear all previous matchMedia animations
                applyContactAnimations(); // Reapply animations based on current viewport
            });
        });
    </script>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Select the "Contact Me" link and the target element
            const contactLink = document.getElementById('contact_link');
            const targetSection = document.getElementById('contact_container');

            // Add a click event listener to the link
            contactLink.addEventListener('click', function (event) {
                event.preventDefault(); // Prevent default anchor behavior
                // Use Anime.js to create a smooth scroll effect
                anime({
                    targets: document.scrollingElement, // The entire page
                    scrollTop: targetSection.offsetTop - 400, // Start midway and scroll to the target
                    duration: 1000, // Increase duration for an even slower scroll
                    easing: 'easeOutCubic' // A more pronounced slow-down effect
                });
            });
        });
    </script>



</body>

</html>